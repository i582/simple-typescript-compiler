## Введение

Целью данной курсовой работы стала разработка компилятора для языка высокого уровня TypeScript на язык ассемблера (MASM).  

 

Компилятор — это специальная программа, которая переводит текст программы, написанный на языке программирования, в набор машинных кодов или на язык ассемблера.

Компиляция — сборка программы, включающая трансляцию всех модулей программы, написанных на одном или нескольких исходных языках программирования высокого уровня и/или языке ассемблера, в эквивалентные программные модули на низкоуровневом языке, близком машинному коду, иногда на язык ассемблера, или непосредственно на машинном языке или ином двоичнокодовом низкоуровневом командном языке и последующую сборку исполняемой машинной программы.

В случае данной курсовой работы, компилятор будет производить компиляцию программы из одного файла на языке TypeScript в один выходной файл на языке ассемблера.

 

Компиляцию можно разбить на несколько основных этапов:

1. Лексический анализ («токенизация», от англ. tokenizing) — процесс аналитического разбора входной последовательности символов на распознанные группы — лексемы, с целью получения на выходе идентифицированных последовательностей, называемых «токенами» (подобно группировке букв в словах).

2. Синтаксический анализ (или разбор, парсинг, англ. parsing) в лингвистике и информатике — процесс сопоставления линейной последовательности лексем (слов, токенов) естественного или формального языка с его формальной грамматикой. Результатом обычно является дерево разбора (синтаксическое дерево).

3. Семантический анализ — это процесс компиляции, предназначенный для различных проверок синтаксической корректности входного кода, а также выделения составляющих, таких как переменные или функции.

4. Генерация кода — это автоматическое создание программного кода специальным приложением, при котором по заданным условиям полностью или частично формируется исходный код программы. Такое специальное приложение называется генератором кода. 

 

Большинство компиляторов переводит программу с некоторого высокоуровневого языка программирования в машинный код, который может быть непосредственно выполнен физическим процессором, однако в данной работе компиляция будет производится на язык ассемблера. С языка ассемблера в машинный код будет переводить отдельный, уже готовый, компилятор, который входит в состав пакета MASM32.

 

Macro Assembler (MASM) — ассемблер для процессоров семейства x86. Первоначально был произведён компанией Microsoft для написания программ в операционной системе MS-DOS и был в течение некоторого времени самым популярным ассемблером, доступным для неё.

Компилятор, в данной работе, должен поддерживать следующие возможности языка:

1. Математические выражения

2. Логические выражения

3. Оператор(ы) цикла

4. Оператор(ы) ветвления

5. Функции и/или процедуры с корректной реализацией механизмов вызова, передачи и возврата параметров.

6. Функции ввода вывода или возможность использовать стандартные библиотеки.

### Описание входного языка

Входным языком является подмножество языка TypeScript. В данной реализации обязательна строгая статическая типизация. Доступны следующие типы:

1. `number` — целое число;
2. `boolean` — логическая переменная;
3. `string` — только константные строки;
4. `number[]` — массив целых чисел;
5. `boolean[]` — массив логических переменных;

**Алфавит **языка следующий:

1. Строчные и прописные буквы латинского алфавита (регистр имеет значение!);

2. Цифры от 0 до 9;

3. Символ `_` (подчеркивания);

4. Набор специальных символов

   ' " {} , | [ ] + - % / \ ; ‘ : ? < > = ! & # ~ ^ . \*

5. Прочие символы.

**Типы слов:**

1. Ключевые слова.
2. Идентификаторы (имена переменных, функций).
3. Символы (знаки) операций.
4. Разделители.
5. Литералы (константы) — фиксированные значения, которые программа не может изменять. Способ представления литерала зависит от его типа (например 'a' – символьная константа).

Из слов строятся выражения (предложения), команды.

В TypeScript признаком конца команды является `;` (точка с запятой).

**Ключевые слова:**

1. `function`
2. `return`
3. `number`
4. `string`
5. `boolean`
6. `void`
7. `let`
8. `const`
9. `for`
10. `while`
11. `do`
12. `break`
13. `continue`
14. `if`
15. `else`

### Описание выходного языка

В качестве выходного языка взят язык `assembler`, а точнее его реализация `masm`. 

**Алфавит **языка следующий:

1. Латинские символы от А до Z, знаки `@`, `#` , `_`, которые используются наравне с буквами. Строчные или прописные символы программой-ассемблером не различаются. Записи вида: `mov eax, 9` и `MOV EAX, 9` воспринимаются одинаково.

2. Цифры от 0 до 9

3. Набор специальных символов: 

   +, -, *, /, (,), запятая , точка, , =, апострофы, двоеточие, &(амперсанд), пробел.

Программа представляет собой набор предложений (операторов),. Предложение состоит из нескольких полей. Поля записываются в определенном порядке с соблюдением принятых правил. Предложение имеет следующие поля:

```cpp
[название] код операции [операнды] [комментарий]
```

Каждый оператор записывается с новой строки. Поля отделяются друг от друга одним или несколькими пробелами. Операнды (если их несколько) отделяются друг от друга запятой.

**Название **предложения — это имя,которое начинается с буквы, содержит не более 8 символов (букв или цифр).

**Код операции** — это мнемокод (условное обозначение) машинной команды, или имя команды транслятору, или имя макрокоманды.

**Операнды** —это объекты, используемые при выполнении данной операции.

**Комментарий ** — это пояснение к исходной программе. В ассемблере комментарий ставиться после точки с запятой:

Например: `mov ah, 9 ;это комментарий`



## Синтаксический анализ

